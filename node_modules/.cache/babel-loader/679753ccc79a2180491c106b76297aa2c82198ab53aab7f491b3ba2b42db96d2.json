{"ast":null,"code":"var _jsxFileName = \"/Users/cody/Desktop/tencent/stocks/src/components/ApiTestComponent.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Button, Alert, Typography, Space } from 'antd';\nimport { ReloadOutlined, CheckCircleOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\nimport stockApi from '../services/stockApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Text\n} = Typography;\nconst ApiTestComponent = ({\n  symbol = 'NVDA'\n}) => {\n  _s();\n  const [testResult, setTestResult] = useState({\n    status: 'idle',\n    message: ''\n  });\n  const testAPI = async currentSymbol => {\n    setTestResult({\n      status: 'loading',\n      message: '正在测试API连接...'\n    });\n    try {\n      const data = await stockApi.getStockQuote(currentSymbol);\n      setTestResult({\n        status: 'success',\n        message: 'API连接成功！',\n        data: data\n      });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : '未知错误';\n      setTestResult({\n        status: 'error',\n        message: `API连接失败: ${errorMessage}`\n      });\n    }\n  };\n  useEffect(() => {\n    let isCancelled = false;\n    const runTest = async () => {\n      if (!isCancelled) {\n        await testAPI(symbol);\n      }\n    };\n    runTest();\n    return () => {\n      isCancelled = true;\n    };\n  }, [symbol]);\n  const getStatusIcon = () => {\n    switch (testResult.status) {\n      case 'loading':\n        return /*#__PURE__*/_jsxDEV(ReloadOutlined, {\n          spin: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 16\n        }, this);\n      case 'success':\n        return /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {\n          style: {\n            color: '#52c41a'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 16\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {\n          style: {\n            color: '#ff4d4f'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"API\\u8FDE\\u63A5\\u6D4B\\u8BD5\",\n    style: {\n      margin: '20px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Space, {\n      direction: \"vertical\",\n      size: \"large\",\n      style: {\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          size: \"middle\",\n          children: [getStatusIcon(), /*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            children: testResult.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), testResult.status === 'success' && testResult.data && /*#__PURE__*/_jsxDEV(Alert, {\n        message: \"API\\u6570\\u636E\\u83B7\\u53D6\\u6210\\u529F\",\n        description: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u80A1\\u7968\\u4EE3\\u7801:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 20\n            }, this), \" \", testResult.data.symbol]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u516C\\u53F8\\u540D\\u79F0:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 20\n            }, this), \" \", testResult.data.longName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u5F53\\u524D\\u4EF7\\u683C:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 20\n            }, this), \" $\", testResult.data.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u6DA8\\u8DCC\\u5E45:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 20\n            }, this), \" \", testResult.data.changePercent, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this),\n        type: \"success\",\n        showIcon: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), testResult.status === 'error' && /*#__PURE__*/_jsxDEV(Alert, {\n        message: \"API\\u8FDE\\u63A5\\u5931\\u8D25\",\n        description: \"\\u7CFB\\u7EDF\\u5C06\\u4F7F\\u7528\\u5907\\u7528\\u6570\\u636E\\u6E90\\uFF0C\\u529F\\u80FD\\u4ECD\\u7136\\u53EF\\u7528\",\n        type: \"warning\",\n        showIcon: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          icon: /*#__PURE__*/_jsxDEV(ReloadOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 19\n          }, this),\n          onClick: () => testAPI(symbol),\n          loading: testResult.status === 'loading',\n          children: \"\\u91CD\\u65B0\\u6D4B\\u8BD5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(ApiTestComponent, \"QEAjJXAlGIp3qF09q1Yb9DMnOpQ=\");\n_c = ApiTestComponent;\nexport default ApiTestComponent;\nvar _c;\n$RefreshReg$(_c, \"ApiTestComponent\");","map":{"version":3,"names":["React","useState","useEffect","Card","Button","Alert","Typography","Space","ReloadOutlined","CheckCircleOutlined","ExclamationCircleOutlined","stockApi","jsxDEV","_jsxDEV","Text","ApiTestComponent","symbol","_s","testResult","setTestResult","status","message","testAPI","currentSymbol","data","getStockQuote","error","errorMessage","Error","isCancelled","runTest","getStatusIcon","spin","fileName","_jsxFileName","lineNumber","columnNumber","style","color","title","margin","children","direction","size","width","textAlign","strong","description","longName","price","changePercent","type","showIcon","icon","onClick","loading","_c","$RefreshReg$"],"sources":["/Users/cody/Desktop/tencent/stocks/src/components/ApiTestComponent.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, Button, Alert, Typography, Space } from 'antd';\nimport { ReloadOutlined, CheckCircleOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\nimport stockApi from '../services/stockApi';\n\nconst { Text } = Typography;\n\ninterface ApiTestComponentProps {\n  symbol?: string;\n}\n\nconst ApiTestComponent: React.FC<ApiTestComponentProps> = ({ symbol = 'NVDA' }) => {\n  const [testResult, setTestResult] = useState<{\n    status: 'loading' | 'success' | 'error' | 'idle';\n    message: string;\n    data?: any;\n  }>({ status: 'idle', message: '' });\n\n  const testAPI = async (currentSymbol: string) => {\n    setTestResult({ status: 'loading', message: '正在测试API连接...' });\n\n    try {\n      const data = await stockApi.getStockQuote(currentSymbol);\n      setTestResult({\n        status: 'success',\n        message: 'API连接成功！',\n        data: data\n      });\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : '未知错误';\n      setTestResult({\n        status: 'error',\n        message: `API连接失败: ${errorMessage}`\n      });\n    }\n  };\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    const runTest = async () => {\n      if (!isCancelled) {\n        await testAPI(symbol);\n      }\n    };\n\n    runTest();\n\n    return () => {\n      isCancelled = true;\n    };\n  }, [symbol]);\n\n  const getStatusIcon = () => {\n    switch (testResult.status) {\n      case 'loading':\n        return <ReloadOutlined spin />;\n      case 'success':\n        return <CheckCircleOutlined style={{ color: '#52c41a' }} />;\n      case 'error':\n        return <ExclamationCircleOutlined style={{ color: '#ff4d4f' }} />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <Card title=\"API连接测试\" style={{ margin: '20px' }}>\n      <Space direction=\"vertical\" size=\"large\" style={{ width: '100%' }}>\n        <div style={{ textAlign: 'center' }}>\n          <Space size=\"middle\">\n            {getStatusIcon()}\n            <Text strong>{testResult.message}</Text>\n          </Space>\n        </div>\n\n        {testResult.status === 'success' && testResult.data && (\n          <Alert\n            message=\"API数据获取成功\"\n            description={\n              <div>\n                <p><strong>股票代码:</strong> {testResult.data.symbol}</p>\n                <p><strong>公司名称:</strong> {testResult.data.longName}</p>\n                <p><strong>当前价格:</strong> ${testResult.data.price}</p>\n                <p><strong>涨跌幅:</strong> {testResult.data.changePercent}%</p>\n              </div>\n            }\n            type=\"success\"\n            showIcon\n          />\n        )}\n\n        {testResult.status === 'error' && (\n          <Alert\n            message=\"API连接失败\"\n            description=\"系统将使用备用数据源，功能仍然可用\"\n            type=\"warning\"\n            showIcon\n          />\n        )}\n\n        <div style={{ textAlign: 'center' }}>\n          <Button\n            type=\"primary\"\n            icon={<ReloadOutlined />}\n            onClick={() => testAPI(symbol)}\n            loading={testResult.status === 'loading'}\n          >\n            重新测试\n          </Button>\n        </div>\n      </Space>\n    </Card>\n  );\n};\n\nexport default ApiTestComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}